<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OTP ржпрж╛ржЪрж╛ржЗржХрж░ржг - ржирж┐рж░рж╛ржкржж ржнрзЛржЯ</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/common.css">
    <link rel="stylesheet" href="assets/css/auth.css">
</head>
<body>
    <header class="header">
        <div class="header-content">
            <a href="index.html">
                <img src="assets/images/election_comission_logo-removebg-preview.png" alt="ржмрж╛ржВрж▓рж╛ржжрзЗрж╢ рж╕рж░ржХрж╛рж░" class="logo">
            </a>
            <div class="header-title">
                <h1>ржирж┐рж░рж╛ржкржж ржнрзЛржЯ</h1>
                <p>рж╕рзНржмржЪрзНржЫ ржУ ржирж┐рж░рж╛ржкржж ржбрж┐ржЬрж┐ржЯрж╛рж▓ ржнрзЛржЯрж┐ржВ рж╕рж┐рж╕рзНржЯрзЗржо</p>
            </div>
        </div>
    </header>

    <main class="container">
        <div class="auth-container">
            <div class="auth-card card">
                <div class="auth-header">
                    <h2>OTP ржпрж╛ржЪрж╛ржЗржХрж░ржг</h2>
                    <p>ржЖржкржирж╛рж░ ржорзЛржмрж╛ржЗрж▓рзЗ ржкрж╛ржарж╛ржирзЛ OTP ржХрзЛржбржЯрж┐ ржкрзНрж░ржжрж╛ржи ржХрж░рзБржи</p>
                </div>

                <div id="alertContainer"></div>

                <!-- reCAPTCHA Container for Firebase (hidden by default) -->
                <div id="recaptcha-container" style="margin-bottom: 20px; display: none; justify-content: center;"></div>

                <div class="info-box" style="margin-bottom: 20px;">
                    <p><i class="fa-solid fa-mobile-screen-button"></i> OTP ржкрж╛ржарж╛ржирзЛ рж╣ржмрзЗ: <strong id="displayPhone"></strong></p>
                    <p><i class="fa-solid fa-clock"></i> ржорзЗржпрж╝рж╛ржж: <strong><span id="expiryTime" style="color: #2e7d32;">рзи ржорж┐ржирж┐ржЯ</span></strong></p>
                </div>

                <!-- Send OTP Button (hidden by default for backend mode) -->
                <button type="button" class="btn btn-primary btn-full" id="sendOtpBtn" onclick="sendBackendOTP()" style="display: none; margin-bottom: 20px;">
                    <span id="sendBtnText">ЁЯУ▒ OTP ржкрж╛ржарж╛ржи</span>
                    <span id="sendBtnLoader" class="loading" style="display: none;"></span>
                </button>

                <form id="otpForm" class="auth-form">
                    <div class="form-group">
                        <label for="otp">OTP ржХрзЛржб *</label>
                        <input 
                            type="text" 
                            id="otp" 
                            name="otp" 
                            placeholder="рзм рж╕ржВржЦрзНржпрж╛рж░ OTP рж▓рж┐ржЦрзБржи"
                            required
                            maxlength="6"
                            pattern="[0-9]{6}"
                            autocomplete="off"
                        >
                        <small class="form-hint">ржЖржкржирж╛рж░ ржлрзЛржирзЗ ржкрж╛ржУржпрж╝рж╛ рзм рж╕ржВржЦрзНржпрж╛рж░ ржХрзЛржбржЯрж┐ рж▓рж┐ржЦрзБржи</small>
                    </div>

                    <div class="form-group">
                        <label for="presentAddress">ржмрж░рзНрждржорж╛ржи ржарж┐ржХрж╛ржирж╛ *</label>
                        <textarea 
                            id="presentAddress" 
                            name="presentAddress" 
                            rows="3"
                            placeholder="ржЖржкржирж╛рж░ ржмрж░рзНрждржорж╛ржи ржарж┐ржХрж╛ржирж╛ рж▓рж┐ржЦрзБржи"
                            required
                        ></textarea>
                    </div>

                    <div class="form-group">
                        <label for="password">ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб *</label>
                        <div class="password-input-wrapper">
                            <input 
                                type="password" 
                                id="password" 
                                name="password" 
                                placeholder="рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб рждрзИрж░рж┐ ржХрж░рзБржи"
                                required
                                minlength="6"
                            >
                            <button type="button" class="toggle-password" onclick="togglePassword('password')">
                                <i class="fa-solid fa-eye"></i>
                            </button>
                        </div>
                        <small class="form-hint">ржХржоржкржХрзНрж╖рзЗ рзм ржЕржХрзНрж╖рж░рзЗрж░ ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб</small>
                    </div>

                    <div class="form-group">
                        <label for="confirmPassword">ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржи *</label>
                        <div class="password-input-wrapper">
                            <input 
                                type="password" 
                                id="confirmPassword" 
                                name="confirmPassword" 
                                placeholder="ржкрзБржирж░рж╛ржпрж╝ ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб рж▓рж┐ржЦрзБржи"
                                required
                            >
                            <button type="button" class="toggle-password" onclick="togglePassword('confirmPassword')">
                                <i class="fa-solid fa-eye"></i>
                            </button>
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary btn-full" id="submitBtn">
                        <span id="btnText">ржпрж╛ржЪрж╛ржЗ ржХрж░рзБржи ржУ ржирж┐ржмржирзНржзржи рж╕ржорзНржкрзВрж░рзНржг ржХрж░рзБржи</span>
                        <span id="btnLoader" class="loading" style="display: none;"></span>
                    </button>

                    <div class="form-group" style="text-align: center; margin-top: 15px;">
                        <button type="button" class="btn btn-secondary" id="resendBtn" onclick="resendOTP()">
                            <i class="fa-solid fa-rotate"></i> ржкрзБржирж░рж╛ржпрж╝ OTP ржкрж╛ржарж╛ржи
                        </button>
                    </div>
                </form>

                <div class="back-home">
                    <a href="register.html">тЖР ржкрж┐ржЫржирзЗ ржлрж┐рж░рзЗ ржпрж╛ржи</a>
                </div>
            </div>

            <div class="help-section card">
                <h3><i class="fa-solid fa-lightbulb"></i> рж╕рж╣рж╛ржпрж╝рждрж╛</h3>
                <div class="help-item">
                    <h4>OTP ржкрж╛ржЪрзНржЫрзЗржи ржирж╛?</h4>
                    <p>ржХрж┐ржЫрзБржХрзНрж╖ржг ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░рзБржиред ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ рж╕ржорж╕рзНржпрж╛рж░ ржХрж╛рж░ржгрзЗ рж╕рж░рзНржмрзЛржЪрзНржЪ рзи ржорж┐ржирж┐ржЯ рж╕ржоржпрж╝ рж▓рж╛ржЧрждрзЗ ржкрж╛рж░рзЗред</p>
                </div>
                <div class="help-item">
                    <h4>OTP ржорзЗржпрж╝рж╛ржжрзЛрждрзНрждрзАрж░рзНржг?</h4>
                    <p>"ржкрзБржирж░рж╛ржпрж╝ OTP ржкрж╛ржарж╛ржи" ржмрж╛ржЯржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзЗ ржирждрзБржи OTP ржкрж╛ржиред</p>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; рзирзжрзирзл ржирж┐рж░рж╛ржкржж ржнрзЛржЯ рж╕рж┐рж╕рзНржЯрзЗржоред рж╕рж░рзНржмрж╕рзНржмрждрзНржм рж╕ржВрж░ржХрзНрж╖рж┐рждред</p>
        </div>
    </footer>

    <script src="assets/js/common.js"></script>
    <script src="assets/js/api-config.js"></script>
    <script src="assets/js/verify-otp.js"></script>
</body>
</html>
