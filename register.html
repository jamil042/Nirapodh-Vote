<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ржирж┐ржмржирзНржзржи - ржирж┐рж░рж╛ржкржж ржнрзЛржЯ</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/common.css">
    <link rel="stylesheet" href="assets/css/auth.css">
</head>
<body>
    <header class="header">
        <div class="header-content">
            <a href="index.html">
                <img src="assets/images/election_comission_logo-removebg-preview.png" alt="ржмрж╛ржВрж▓рж╛ржжрзЗрж╢ рж╕рж░ржХрж╛рж░" class="logo">
            </a>
             <div class="header-title">
                <h1>ржирж┐рж░рж╛ржкржж ржнрзЛржЯ</h1>
                <p>рж╕рзНржмржЪрзНржЫ ржУ ржирж┐рж░рж╛ржкржж ржбрж┐ржЬрж┐ржЯрж╛рж▓ ржнрзЛржЯрж┐ржВ рж╕рж┐рж╕рзНржЯрзЗржо</p>
            </div>
        </div>
    </header>

    <main class="container">
        <div class="auth-container">
            <div class="auth-card card">
                <div class="auth-header">
                    <h2>ржирж╛ржЧрж░рж┐ржХ ржирж┐ржмржирзНржзржи</h2>
                    <p>ржирждрзБржи ржнрзЛржЯрж╛рж░ рж╣рж┐рж╕рзЗржмрзЗ ржирж┐ржмржирзНржзржи ржХрж░рзБржи</p>
                </div>

                <div id="alertContainer"></div>

                <form id="registerForm" class="auth-form">
                    <div class="form-group">
                        <label for="nid">ржЬрж╛рждрзАржпрж╝ ржкрж░рж┐ржЪржпрж╝ржкрждрзНрж░ ржиржорзНржмрж░ *</label>
                        <input 
                            type="text" 
                            id="nid" 
                            name="nid" 
                            placeholder="рззрзж ржмрж╛ рззрзн рж╕ржВржЦрзНржпрж╛рж░ NID ржиржорзНржмрж░ рж▓рж┐ржЦрзБржи"
                            required
                            maxlength="21"
                            inputmode="numeric"
                        >
                        <small class="form-hint">ржЙржжрж╛рж╣рж░ржг: рззрзирзйрзк-рзлрзмрзнрзо-рзпрзж</small>
                    </div>

                    <div class="form-group">
                        <label for="phoneNumber">ржорзЛржмрж╛ржЗрж▓ ржиржорзНржмрж░ *</label>
                        <input 
                            type="tel" 
                            id="phoneNumber" 
                            name="phoneNumber" 
                            placeholder="ржЖржкржирж╛рж░ ржорзЛржмрж╛ржЗрж▓ ржиржорзНржмрж░ рж▓рж┐ржЦрзБржи"
                            required
                        >
                        <small class="form-hint">ржЙржжрж╛рж╣рж░ржг: 01788504010 ржмрж╛ +8801788504010</small>
                    </div>

                    <div class="form-group">
                        <label for="dob">ржЬржирзНржо рждрж╛рж░рж┐ржЦ *</label>
                        <input 
                            type="date" 
                            id="dob" 
                            name="dob" 
                            required
                        >
                        <small class="form-hint">ржЖржкржирж╛рж░ NID ржХрж╛рж░рзНржбрзЗ ржЙрж▓рзНрж▓рзЗржЦрж┐ржд ржЬржирзНржо рждрж╛рж░рж┐ржЦ ржжрж┐ржи</small>
                    </div>

                    <div class="info-box" id="autoFetchInfo" style="display: none;">
                        <h4>ЁЯФН рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ рждржерзНржп рж╕ржВржЧрзНрж░рж╣</h4>
                        <div class="info-item">
                            <label>ржорзЛржмрж╛ржЗрж▓ ржиржорзНржмрж░:</label>
                            <span id="fetchedPhone">рзжрззрзнрззрзирзйрзкрзлрзмрзнрзо</span>
                        </div>
                        <div class="info-item">
                            <label>ржарж┐ржХрж╛ржирж╛:</label>
                            <span id="fetchedAddress">ржврж╛ржХрж╛, ржмрж╛ржВрж▓рж╛ржжрзЗрж╢</span>
                        </div>
                        <div class="info-item">
                            <label>ржнрзЛржЯ ржХрзЗржирзНржжрзНрж░:</label>
                            <span id="fetchedCenter">ржврж╛ржХрж╛ рж╕рж┐ржЯрж┐ ржХрж▓рзЗржЬ</span>
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary btn-full" id="submitBtn">
                        <span id="btnText">ржпрж╛ржЪрж╛ржЗ ржХрж░рзБржи ржУ OTP ржкрж╛ржарж╛ржи</span>
                        <span id="btnLoader" class="loading" style="display: none;"></span>
                    </button>
                </form>

                <div class="auth-footer">
                    <p>ржЗрждрж┐ржоржзрзНржпрзЗ ржирж┐ржмржирзНржзрж┐ржд?</p>
                    <a href="login.html" class="link">рж▓ржЧржЗржи ржХрж░рзБржи</a>
                </div>

                <div class="back-home">
                    <a href="index.html">тЖР рж╣рзЛржо ржкрзЗржЬрзЗ ржлрж┐рж░рзЗ ржпрж╛ржи</a>
                </div>
            </div>

            <div class="help-section card">
                <h3><i class="fa-solid fa-lightbulb"></i> рж╕рж╣рж╛ржпрж╝рждрж╛</h3>
                <div class="help-item">
                    <h4>NID ржиржорзНржмрж░ ржХрзЛржерж╛ржпрж╝ ржкрж╛ржмрзЗржи?</h4>
                    <p>ржЖржкржирж╛рж░ ржЬрж╛рждрзАржпрж╝ ржкрж░рж┐ржЪржпрж╝ржкрждрзНрж░рзЗрж░ рж╕рж╛ржоржирзЗрж░ ржжрж┐ржХрзЗ рззрзж ржЕржержмрж╛ рззрзн рж╕ржВржЦрзНржпрж╛рж░ ржиржорзНржмрж░ рж▓рзЗржЦрж╛ ржЖржЫрзЗред</p>
                </div>
                <div class="help-item">
                    <h4>ржЬржирзНржо рждрж╛рж░рж┐ржЦ ржнрзБрж▓ рж╣рж▓рзЗ?</h4>
                    <p>ржЕржмрж╢рзНржпржЗ ржЖржкржирж╛рж░ NID ржХрж╛рж░рзНржбрзЗ ржЙрж▓рзНрж▓рзЗржЦрж┐ржд ржЬржирзНржо рждрж╛рж░рж┐ржЦ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред</p>
                </div>
                <div class="help-item">
                    <h4>OTP ржХрзЛржерж╛ржпрж╝ ржпрж╛ржмрзЗ?</h4>
                    <p>ржЖржкржирж╛рж░ NID ржПрж░ рж╕рж╛ржерзЗ ржпрзБржХрзНржд ржорзЛржмрж╛ржЗрж▓ ржиржорзНржмрж░рзЗ OTP ржкрж╛ржарж╛ржирзЛ рж╣ржмрзЗред</p>
                </div>
            </div>
        </div>
    </main>

    <footer class="auth-page-footer">
        <div class="container">
            <p>&copy; рзирзжрзирзл ржирж┐рж░рж╛ржкржж ржнрзЛржЯ рж╕рж┐рж╕рзНржЯрзЗржоред рж╕рж░рзНржмрж╕рзНржмрждрзНржм рж╕ржВрж░ржХрзНрж╖рж┐рждред</p>
            <p>ржмрж╛ржВрж▓рж╛ржжрзЗрж╢ ржирж┐рж░рзНржмрж╛ржЪржи ржХржорж┐рж╢ржи</p>
        </div>
    </footer>

    <script src="assets/js/common.js"></script>
    <script src="assets/js/api-config.js"></script>
    <script src="assets/js/register-backend.js"></script>
    
    <script>
        console.log('=== PAGE LOADED ===');
        console.log('Checking if scripts loaded...');
        
        setTimeout(function() {
            console.log('apiRequest available?', typeof apiRequest === 'function');
            console.log('handleRegister available?', typeof handleRegister === 'function');
        }, 500);
        
        // NID auto-formatting
        document.getElementById('nid').addEventListener('input', function(e) {
            let value = e.target.value.replace(/[^0-9]/g, ''); // Remove all non-digits
            let formatted = '';
            
            // Add dash after every 4 digits
            for (let i = 0; i < value.length; i++) {
                if (i > 0 && i % 4 === 0) {
                    formatted += '-';
                }
                formatted += value[i];
            }
            
            e.target.value = formatted;
        });
    </script>
</body>
</html>
